jQuery(document).ready(function(N){const l="yy-mm-dd";const E="display";const Z="active";const G="arrival";const x="departure";function A(ag){return(("number"===typeof ag)&&(0<ag))}function af(ah,ag,ai){return(("string"===typeof ah)&&("object"===typeof ag)&&(ag.hasOwnProperty(ah))&&(ai===typeof ag[ah]))}function e(ah,ag,ai){return af(ah,ag,ai)?ag[ah]:undefined}function C(ah,ag){let data=ag.getAttribute("data-"+ah);return(null===data)?"":data}function L(ah,ai,ag){ag.setAttribute("data-"+ah,ai)}function aa(ah,ag){ag.removeAttribute("data-"+ah)}function ac(ag,ai){try{return N.datepicker.formatDate(ai,ag)}catch(ah){console.log(ah)}return""}function Q(ag,ai){try{return N.datepicker.parseDate(ai,ag)}catch(ah){console.log(ah)}return null}function D(ag,ah,ai){return ac(Q(ag,ah),ai)}function W(ah,ag){if((null===ah)||(null===ag)||("function"!==typeof ah.getTime)||("function"!==typeof ag.getTime)){return false}return ah.getTime()===ag.getTime()}function I(ag,ah,ai){let theDate=Q(ag,ai);let deadLine=Q(ah,ai);return((null!==theDate)&&(null!==deadLine)&&(theDate<deadLine))}function X(ag,ah,ai){if(ag===ah){return true}let theDate=Q(ag,ai);let deadLine=Q(ah,ai);return((null!==theDate)&&(null!==deadLine)&&(theDate<deadLine))}function F(ah,aj,ag,ai){let date=Q(ah,ai);let start=Q(aj,ai);let end=Q(ag,ai);return((null!==date)&&(null!==start)&&(null!==end)&&(start<=date)&&(date<=end))}function H(ag,ah){let newDate=new Date(ag.getTime());newDate.setDate(ag.getDate()+ah);return newDate}function m(ag,ah){let match=null;let regex=/date-key-(\d{4}-\d{2}-\d{2})/;if(("string"===typeof ag)&&(null!==(match=ag.match(regex)))&&("string"===typeof match[1])){return D(match[1],l,ah)}return undefined}function s(ag){let instance=C("instance",ag);return(""===instance)?"0":instance}function r(ag){let i=s(ag);return(undefined===availabilityCalendar.calendars[i])?{}:availabilityCalendar.calendars[i].parameters}function y(ag,ah){let parameters=r(ah);return(undefined===parameters[ag])?null:parameters[ag]}function d(ah,ag){let id=y(ah+"Id",ag);return((null===id)||(""===id))?null:document.getElementById(id)}function J(ag,ah){let fields=[];let types=["","Display"];for(let type in types){let input=d(ag+types[type],ah);let inputType=null;if((null!==input)&&(null!==(inputType=input.getAttribute("type")))&&("hidden"!==inputType)){fields.push(input)}}return fields}function t(ag){let key="Display";let fields=[G+key,x+key];for(let i=0;i<fields.length;i++){let input=d(fields[i],ag);if((null!==input)&&("readonly"===input.getAttribute("readonly"))){let title=input.getAttribute("title");if((null!==title)&&(""!==title)){N(input).on("click",function(){alert(this.getAttribute("title"))})}}}}function ae(ag){let format=y("dateFormat",ag);return(("string"===typeof format)&&(""!==format))?format:availabilityCalendar.defaults.dateFormat}function Y(ag){let format=y("dateFormatDisplay",ag);return(("string"===typeof format)&&(""!==format))?format:availabilityCalendar.defaults.dateFormatDisplay}function B(ag){let currentType=C("type",ag);if(""===currentType){currentType=((null===d(G,ag))||(null===d(x,ag)))?E:Z;L("type",currentType,ag)}return currentType}function k(ag){let i=s(ag);return(undefined===availabilityCalendar.calendars[i])?{}:availabilityCalendar.calendars[i].availability}function o(ag){let state=C("state",ag);if(""===state){state=G;V(ag,state)}return state}function V(ah,ag){ag=("undefined"===typeof ag)?G:ag;L("state",ag,ah);b(ag,ah)}function c(ag){let state=o(ag);let newState=(G===state)?x:G;V(ag,newState);a(ag)}function q(ag){let parameters=r(ag);let calendarDefault=e("minStay",parameters,"number");return A(calendarDefault)?calendarDefault:availabilityCalendar.defaults.minStay}function j(ag,ah){return af(ag,ah,"object")}function ad(ag,ah){let data=e(ag,ah,"object");return(undefined===data)?{}:data}function h(ag){let rate=e("rate",ag,"string");return(undefined===rate)?"":rate}function S(ag){let available=e("available",ag,"boolean");return(undefined===available)?false:available}function n(ag){let arrivalAllowed=e("arrival",ag,"boolean");return(undefined===arrivalAllowed)?false:arrivalAllowed}function v(ag){let departureAllowed=e("departure",ag,"boolean");return(undefined===departureAllowed)?false:departureAllowed}function O(ag,ah){if(j(ag,ah)){return S(ad(ag,ah))}return false}function K(ag,ah){if(j(ag,ah)){return v(ad(ag,ah))}return false}function z(ag,ah){let dates=k(ah);if(j(ag,dates)){let dateMinStay=e("minStay",ad(ag,dates),"number");if(A(dateMinStay)){return dateMinStay}}return q(ah)}function M(ag,ah){let dates=k(ah);let defaultMaxStay=y("maxStay",ah);return(dates.hasOwnProperty(ag)&&("number"===typeof dates[ag].maxStay)&&(0<dates[ag].maxStay))?dates[ag].maxStay:((("number"===typeof defaultMaxStay)&&(0<defaultMaxStay))?defaultMaxStay:availabilityCalendar.defaults.maxStay)}function u(ah,ag){let format=ae(ag);return ac(H(Q(ah,format),z(ah,ag)),format)}function P(ah,ag){let dates=k(ag);if(!O(ah,dates)){return ah}let format=ae(ag);let arrivalDate=Q(ah,format);let addDays=1;let newDate="";let maxStay=M(ah,ag);while(O(newDate=ac(H(arrivalDate,addDays),format),dates)){if(addDays>=maxStay){return newDate}addDays++}return newDate}function U(ah,ag){let dates=k(ag);if(K(ah,dates)){return ah}let lastDate=y("lastDate",ag);let format=ae(ag);let addDays=1;let newDate=ac(H(Q(ah,format),addDays),format);while(!K(newDate,dates)&&X(newDate,lastDate,format)){addDays++;newDate=ac(H(Q(ah,format),addDays),format)}return newDate}function b(ag,ah){let oldState=(G===ag)?x:G;J(ag,ah).forEach(function(ai){try{N(ai.parentNode).removeClass("calendar-deem").addClass("calendar-highlight")}catch(aj){console.log(aj)}});J(oldState,ah).forEach(function(ai){try{N(ai.parentNode).removeClass("calendar-highlight").addClass("calendar-deem")}catch(aj){console.log(aj)}})}function g(ai,ah,ak,aj,ag){L("selected-"+ah,ai,ak);let inputField=d(ah,ak);inputField.value=ai;let displayInputField=d(ah+"Display",ak);if(null!==displayInputField){displayInputField.value=(""===ai)?ai:D(ai,aj,ag)}}function f(ag){let fields=[G,x];for(let index in fields){let field=fields[index];let inputField=d(field,ag);if((null!==inputField)&&("string"===typeof inputField.value)&&(""!==inputField.value)){L("selected-"+field,inputField.value,ag);let displayInputField=d(field+"Display",ag);if(null!==displayInputField){displayInputField.value=D(inputField.value,ae(ag),Y(ag))}}}}function ab(ag){if(true===y("showRates",ag)){let format=ae(ag);let dates=k(ag);N(ag).find('.ui-datepicker-calendar td.has-rate[class*="date-key-"] > *[class*="ui-state"]').each(function(){let date=m(this.parentNode.className,format);let rate="";if((undefined!==date)&&j(date,dates)&&(""!==(rate=h(ad(date,dates))))&&(0===N(this.parentNode).find(".rate").length)){let rateElement=document.createElement("span");rateElement.className="rate";rateElement.appendChild(document.createTextNode(rate));this.parentNode.appendChild(rateElement)}})}N(ag).find(".ui-datepicker-calendar td[title]").contextmenu(function(ah){ah.preventDefault();try{alert(this.getAttribute("title").replace(/\.\s?/gi,".\n"))}catch(ai){console.log(ai)}})}function a(ag){window.setTimeout(function(ah){ab(ah)},250,ag)}function R(ag){let classes=[];let messages=[];let state=o(this);let format=y("dateFormat",this);let dates=k(this);let theDateString=ac(ag,format);let theDateKey=ac(ag,l);classes.push("date-key-"+theDateKey);let firstDate=Q(y("firstDate",this),format);let beforeMinDate=(ag<firstDate);if(beforeMinDate){classes.push("before-min-date")}let afterMaxDate=(ag>Q(y("lastDate",this),format));if(afterMaxDate){classes.push("after-max-date")}let hasData=j(theDateString,dates);classes.push(hasData?"has-data":"no-data");let dateData=ad(theDateString,dates);let rate=h(dateData);let hasRate=(""!==rate);if(!beforeMinDate&&!afterMaxDate){classes.push(hasRate?"has-rate":"no-rate")}let arrivalAvailable=(S(dateData)&&!(beforeMinDate||afterMaxDate));classes.push(arrivalAvailable?"arrival-available":"arrival-unavailable");let yesterdayDate=H(ag,-1);let yesterdayDateString=ac(yesterdayDate,format);let yesterdayData=ad(yesterdayDateString,dates);let departureAvailable=(S(yesterdayData)&&!(beforeMinDate||afterMaxDate)&&!(yesterdayDate<firstDate));classes.push(departureAvailable?"departure-available":"departure-unavailable");let arrivalAllowed=n(dateData);classes.push(arrivalAllowed?"arrival-allowed":"arrival-prohibited");let departureAllowed=v(dateData);classes.push(departureAllowed?"departure-allowed":"departure-prohibited");if(!beforeMinDate&&!afterMaxDate){if(hasRate){messages.push(availabilityCalendar.messages.rate.replace("{rate}",rate))}messages.push(availabilityCalendar.messages.minimumStay.replace("{minimumStay}",z(theDateString,this)));messages.push(arrivalAvailable?availabilityCalendar.messages.available:availabilityCalendar.messages.unavailable);messages.push(arrivalAllowed?availabilityCalendar.messages.arrivalsAllowed:availabilityCalendar.messages.arrivalsNotAllowed);messages.push(departureAllowed?availabilityCalendar.messages.departuresAllowed:availabilityCalendar.messages.departuresNotAllowed)}let canArrive=(arrivalAvailable&&arrivalAllowed);let canDepart=(departureAvailable&&departureAllowed);let conflictMessage=false;let selectedArrivalDateString=C("selected-arrival",this);let selectedArrivalDate=Q(selectedArrivalDateString,format);let selectedArrival=((null!==selectedArrivalDate)&&W(ag,selectedArrivalDate));if(selectedArrival){classes.push("selected-arrival");messages.push(availabilityCalendar.messages.selectedArrival);if(!canArrive||beforeMinDate||afterMaxDate){classes.push("arrival-conflict");conflictMessage=true}}let selectedDepartureDateString=C("selected-departure",this);let selectedDepartureDate=Q(selectedDepartureDateString,format);let selectedDeparture=((null!==selectedDepartureDate)&&W(ag,selectedDepartureDate));if(selectedDeparture){classes.push("selected-departure");messages.push(availabilityCalendar.messages.selectedDeparture);if(!canDepart||beforeMinDate||afterMaxDate){classes.push("departure-conflict");conflictMessage=true}}if((null!==selectedArrivalDate)&&(null!==selectedDepartureDate)){if((selectedArrivalDate<ag)&&(ag<selectedDepartureDate)){classes.push("selected-stay");messages.push(availabilityCalendar.messages.selectedStay);if((!arrivalAvailable&&!departureAvailable)||beforeMinDate||afterMaxDate){classes.push("stay-conflict");conflictMessage=true}else{if(!arrivalAvailable){classes.push("arrival-conflict");conflictMessage=true}else{if(!departureAvailable){classes.push("departure-conflict");conflictMessage=true}}}}let minimumStayUntilDate=Q(u(selectedArrivalDateString,this),format);if((selectedDepartureDate<minimumStayUntilDate)){let minimumStayConflictMessage=false;if((ag>selectedDepartureDate)&&(ag<minimumStayUntilDate)){classes.push("stay-conflict");minimumStayConflictMessage=true}else{if(W(ag,minimumStayUntilDate)){classes.push("departure-conflict");minimumStayConflictMessage=true}else{if(W(ag,selectedDepartureDate)){classes.push("arrival-conflict");minimumStayConflictMessage=true}}}if(true===minimumStayConflictMessage){messages.push(availabilityCalendar.messages.minimumStayConflict)}}}if(true===conflictMessage){messages.push(availabilityCalendar.messages.selectedDatesConflict)}let minDepartureDateString=C("first-departure",this);let minStayMessage=false;if((x===state)&&(""!==minDepartureDateString)){if((""!==selectedArrivalDateString)&&(theDateString===selectedArrivalDateString)){classes.push("minimum-stay-requirement");minStayMessage=true}else{if((""!==selectedArrivalDateString)&&(I(selectedArrivalDateString,theDateString,format))&&(I(theDateString,minDepartureDateString,format))){classes.push("minimum-stay-requirement selected-stay");minStayMessage=true}else{if(theDateString===minDepartureDateString){classes.push("minimum-stay-requirement selected-departure");messages.push(availabilityCalendar.messages.firstAvailableDeparture)}}}if(true===minStayMessage){messages.push(availabilityCalendar.messages.minimumStayPeriod)}}let selectable=false;if(G===state){selectable=canArrive}else{selectable=(canDepart&&F(theDateString,C("first-departure",this),C("last-departure",this),format))}return[selectable,classes.join(" "),messages.join(" ")]}function p(ah,ag,ai){let state=o(ai);if(G===state){let messages=[];let mustDepartOnDateString=P(ah,ai);let minimumStayUntilDateString=u(ah,ai);let firstAllowedDepartureDateString=U(minimumStayUntilDateString,ai);if(I(mustDepartOnDateString,firstAllowedDepartureDateString,ag.settings.dateFormat)){messages.push(availabilityCalendar.messages.arrivalImpossible);messages.push(availabilityCalendar.messages.selectAnotherDate);alert(messages.join("\n"));a(ai);return}g("",x,ai,ag.settings.dateFormat,ag.settings.altFormat);L("first-departure",firstAllowedDepartureDateString,ai);L("last-departure",mustDepartOnDateString,ai)}else{if(x===state){aa("first-departure",ai);aa("last-departure",ai)}}g(ah,state,ai,ag.settings.dateFormat,ag.settings.altFormat);c(ai)}function T(ag){return Math.floor(ag.offsetWidth/295)}function w(ag,ah){f(ah);V(ah,G);let arrivalInput=d(G,ah);let defaultDate=((null===arrivalInput)||(""===arrivalInput.value))?null:arrivalInput.value;let calendarParameters=r(ah);let parameters={beforeShowDay:R,altFormat:calendarParameters.dateFormatDisplay,dateFormat:calendarParameters.dateFormat,firstDay:calendarParameters.weekStart,defaultDate:defaultDate,gotoCurrent:true,maxDate:calendarParameters.lastDate,minDate:calendarParameters.firstDate,showOtherMonths:false,numberOfMonths:T(ah),onChangeMonthYear:function(){a(this)},onSelect:function(){a(this)}};let calendarType=B(ah);switch(calendarType){case E:N(ah).datepicker(parameters);break;case Z:default:parameters.onSelect=function(aj,ai){p(aj,ai,this)};N(ah).datepicker(parameters);t(ah);break}a(ah)}N(".availability-calendar").each(w)});